var YYLivePlayer=function(a,b){var i,j,k,l,m,n,o,c=this,d={YYLiveEvents:{noStream:"yylive_noStream",endStream:"yylive_endStream"}},e={sid:null,ssid:null,uid:null,appid:null,liveURL:null,hasPoster:!0,hasPlayBtn:!0,hasPauseBtn:!0,needLoading:!0,autoplay:!0,wrapper:"#yyLivePlayerWrapper",poster:".yyLivePlayer-poster",player:".yyLivePlayer",playBtn:".yyLivePlayer-playBtn",pauseBtn:".yyLivePlayer-pauseBtn",errorImg:"data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/4QMqaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAxNCA3OS4xNTE0ODEsIDIwMTMvMDMvMTMtMTI6MDk6MTUgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUM4OTdEQzczMzQ0MTFFNDkzOThBOEVERTQ5Qzg4NzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUM4OTdEQzgzMzQ0MTFFNDkzOThBOEVERTQ5Qzg4NzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQzg5N0RDNTMzNDQxMUU0OTM5OEE4RURFNDlDODg3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxQzg5N0RDNjMzNDQxMUU0OTM5OEE4RURFNDlDODg3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAICAgICAgICAgIDAgICAwQDAgID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",loadingImg:"data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs=",eventListeners:{yylive_noStream:null,yylive_endStream:null},nonsupportHandler:null},f={canAutoPlay:null,videoStreamState:0,isIOS:/iPhone|iPod|iPad/i.test(navigator.userAgent),isUCWEB:/UCWEB|UCBrowser/i.test(navigator.userAgent),isOpera:/Opera|Oupeng/i.test(navigator.userAgent),isFF:/Firefox/i.test(navigator.userAgent),isQQBrowser:/MQQBrowser/i.test(navigator.userAgent),is360Browser:/360 Aphone Browser/i.test(navigator.userAgent),isLieBao:/LieBao/i.test(navigator.userAgent),isSmartis:/SANFRANCISCO/i.test(navigator.userAgent),isBaiduBrowser:/baidubrowser/i.test(navigator.userAgent)},g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),h={UCWEB:{regExpPrefix:"UCWEB|UCBrowser",iOS:{before:null,equals:null,after:null},android:{}}};b=b||{},b=a.extend(!0,e,b),b.ssid=b.ssid||b.sid,c.config=b,c.state=f,i=function(a,b){var e,f,c=g,d=[];if(b=b||c.length,a)for(e=0;a>e;e++)d[e]=c[0|Math.random()*b];else for(d[8]=d[13]=d[18]=d[23]="-",d[14]="4",e=0;36>e;e++)d[e]||(f=0|16*Math.random(),d[e]=c[19==e?8|3&f:f]);return d.join("")},j=function(){return i().replace(/-/gm,"")},k=function(){if(c.state.isIOS){if(c.state.isQQBrowser)return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1;if(l("iOS"))return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1}else{if(c.state.isOpera||c.state.isFF)return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1;if(c.state.isSmartis&&(c.state.is360Browser||c.state.isLieBao))return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1;var b=navigator.userAgent.match(/Android ([0-9.]+);/);if(b&&2==b.length&&(b=b[1],parseFloat(b)<4))return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1;if(l("android"))return a.isFunction(c.config.nonsupportHandler)&&c.config.nonsupportHandler.apply(c),!1}return!0},l=function(b){var d,e;for(e in h)if(c.state["is"+e]){if(!h[e][b])break;if(d=new RegExp("(?:"+h[e].regExpPrefix+")/([0-9.]+)","i").exec(navigator.userAgent),!d||0==d.lenght)break;if(d=d[1],h[e][b].before&&h[e][b].before>d)return!0;if(h[e][b].equals&&a.isArray(h[e][b].equals)&&h[e][b].equals.length>0&&h[e][b].equals.indexOf(d)>=0)return!0;if(h[e][b].after&&h[e][b].after<d)return!0}return!1},m=function(b){a.ajax({url:"http://webaccess.service.yy.com:8000/querypresenter",data:{appid:"49",topsid:c.config.sid,subsid:c.config.ssid},dataType:"jsonp",jsonp:"jsonpcb",error:b.error,success:b.success})},n=function(){function g(){setTimeout(function(){var d,e,f,b=c.player.attr("poster");b&&""!=b&&(c.player.attr("poster",""),c.player.attr("poster",b),d=a(window).scrollTop(),a(window).scrollTop(d+1),a(window).scrollTop(d),c.player.height(c.player.height()-1),c.player.height(c.player.height()+1)),c.config.hasPlayBtn&&(e=c.playBtn.css("background-image"),c.playBtn.css("background-image","none"),c.playBtn.css("background-image",e)),c.config.hasPauseBtn&&(f=c.pauseBtn.css("background-image"),c.pauseBtn.css("background-image","none"),c.pauseBtn.css("background-image",f))},3e3)}function h(){c.player.attr("data-init","true"),c.player.on("playing",function(){a(this).removeAttr("data-delayLimit")}).on("error",function(){if("true"===c.player.attr("data-init"))return c.player.attr("data-init",""),void 0;if("true"===c.player.attr("data-clean"))return c.player.attr("data-clean",""),void 0;var b=a(this).attr("data-delayLimit");return b>9?(c.pauseVideo(),c.playVideo(),void 0):(b++,a(this).attr("data-delayLimit",b),4==this.error.code&&this.load(),setTimeout(function(){c.pauseVideo(),c.playVideo()},500),void 0)})}function i(){c.player.one("play",function(){var a=!1;c.player.one("playing",function(){a=!0}),setTimeout(function(){a||c.pauseVideo()},1e4)})}function j(){c.playVideo()}function k(){setInterval(function(){m({error:function(){console.log("err"),c.player.hasClass("play")&&(c.pauseVideo(),c.player.trigger(c.getYYLivePlayerEvent("endStream")))},success:function(a){a&&0===a.code&&a.uids&&a.uids.length>=1?console.log("online"):(console.log("offline"),c.player.hasClass("play")&&(c.pauseVideo(),c.player.trigger(c.getYYLivePlayerEvent("endStream"))))}})},2e4)}var f,b=["isUCWEB","isOpera","isFF","isQQBrowser","is360Browser","isLieBao","isBaiduBrowser"],d=c.state.isIOS?"I_":"A_",e={loadVideoExptHandler:function(){},runAutoplay:function(){},onPlay:function(){},onPause:function(){}};for(f in b)if(c.state[b[f]]){d+=("0"+f).substr(-2);break}switch(c.state.isIOS?(e.loadVideoExptHandler=i,e.onPause=function(){c.player.on("pause",function(){c.pauseVideo()})}):(e.loadVideoExptHandler=h,e.onPause=function(){c.player.on("pause",function(){(3===c.player.get(0).readyState||4===c.player.get(0).readyState)&&c.pauseVideo()})}),d){case"I_00":k();break;case"A_00":k(),e.runAutoplay=j,e.onPlay=function(){c.player.on("play",function(){c.playVideo()})},e.onPause=function(){};break;case"A_03":k(),e.onPlay=function(){c.player.on("play",function(){c.playVideo()})},e.onPause=function(){},c.player.on(c.getYYLivePlayerEvent("endStream"),function(){c.player.hide()}),c.player.on(c.getYYLivePlayerEvent("noStream"),function(){c.player.hide()});break;case"A_04":g(),e.onPlay=function(){c.player.on("play",function(){var b=a(window).scrollTop();a(window).scrollTop(b+1),a(window).scrollTop(b),c.player.height(c.player.height()-1),c.player.height(c.player.height()+1)})};break;case"A_05":g();break;case"A_06":e.runAutoplay=j}return e},o=function(){var b,d;if(k()){if(null==c.config.sid||""===c.config.sid)return console.log("sid is missing."),null;if(null==c.config.uid||""===c.config.uid)return console.log("uid is missing."),null;if(null==c.config.liveURL||""===c.config.liveURL)return console.log("liveURL is missing."),null;c.wrapper=a(c.config.wrapper),c.player=a(c.config.player),c.player.removeAttr("controls"),c.config.hasPoster&&(c.poster=a(c.config.poster)),c.config.hasPlayBtn&&(c.playBtn=a(c.config.playBtn)),c.config.hasPauseBtn&&(c.pauseBtn=a(c.config.pauseBtn)),b=n(),c.setMedia(c.config.liveURL,function(a){return null==a||""===a?(console.log("streamid is missing."),c.state.videoStreamState=2,c.playBtn.hide(),c.player.trigger(c.getYYLivePlayerEvent("noStream")),void 0):(c.state.videoStreamState=1,c.state.autoplay&&b.runAutoplay(),void 0)}),c.config.needLoading&&(c.loading=a("<div></div>"),c.player.after(c.loading),c.loading.css({position:"absolute",top:"0",left:"0",display:"none",height:"100%",width:"100%","background-color":"rgba(0,0,0, 0.5)","background-image":'url("'+c.config.loadingImg+'")',"background-position":"center","background-repeat":"no-repeat","background-size":"16px 16px","z-index":"10"}),c.player.on("play",function(){c.loading.show()}).on("timeupdate",function(){c.loading.hide()}).on("pause",function(){c.loading.hide()}).on("ended",function(){c.loading.hide()}).on("error",function(){c.loading.hide()}));for(d in c.config.eventListeners)a.isFunction(c.config.eventListeners[d])&&c.player.on(d,c.config.eventListeners[d]);b.loadVideoExptHandler(),b.onPause(),b.onPlay(),c.player.on("pause",function(){c.player.removeClass("play")}).on("ended",function(){c.pauseVideo(),c.player.trigger(c.getYYLivePlayerEvent("endStream"))}),a(window).scrollTop(1),a(window).scrollTop(0)}},c.requestMedia=function(b){var d=this;m({error:function(){a.isFunction(b)&&b(null)},success:function(e){if(e){var f=null;0===e.code&&e.uids&&e.uids.length>=1&&(f=!0,d.liveURL=c.config.liveURL.replace("@sid",d.config.sid).replace("@ssid",d.config.ssid).replace("@uid",d.config.uid).replace("@appid",d.config.appid)+"&uuid="+j(),c.player.attr("data-src",d.liveURL)),a.isFunction(b)&&b(f)}else a.isFunction(b)&&b(null)}})},c.cleanVideo=function(){this.player.attr("data-clean","true"),this.player.attr("src",""),this.player.removeClass("play")},c.getYYLivePlayerEvent=function(a){return d.YYLiveEvents[a]},c.checkVideoStream=function(){var a;c.checkVideoStream.ts&&clearInterval(c.checkVideoStream.ts),c.checkVideoStream.ts=setInterval(function(){var b=c.player.get(0),d=b.error&&b.error.code;if(c.player.hasClass("play")){if(4===d)return clearInterval(c.checkVideoStream.ts),c.player.trigger("ended"),void 0;4===a&&4!==b.readyState&&(clearInterval(c.checkVideoStream.ts),c.player.trigger("ended")),a=b.readyState}else clearInterval(c.checkVideoStream.ts)},5e3)},o()};YYLivePlayer.prototype={pauseVideo:function(){return this.player.hasClass("play")&&(this.player.get(0).pause(),this.cleanVideo(),this.config.hasPoster&&this.poster.show(),this.player.removeClass("play")),this},playVideo:function(){var b,a=this;return 2===a.state.videoStreamState?this:(a.config.hasPoster&&a.poster.hide(),b=a.player.get(0),(!a.player.hasClass("play")||a.state.isIOS&&a.state.isUCWEB)&&(a.poster.hide(),a.player.show(),a.player.attr("src",a.player.attr("data-src")),a.player.height(a.player.height()-1),a.player.height(a.player.height()+1),$(window).scrollTop(1),$(window).scrollTop(0),b.load(),b.play(),a.player.addClass("play"),a.checkVideoStream()),setTimeout(function(){(4===b.readyState||5===b.readyState)&&b.play()},3e3),this)},bindEvent:function(a,b){return this.player.on(a,b),this},unbindEvent:function(a,b){return this.player.off(a,b),this},setMedia:function(a,b){return this.config.liveURL=a,this.requestMedia(b),this},setPoster:function(a){this.player.attr("poster",a)}};